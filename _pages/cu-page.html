---
title: "University of Colorado Boulder Projects"
permalink: /cu-page/
author_profile: false
sidebar:
  title: "CU Projects"
  nav: "sidebar-cu"
---
<style>
.frame {
	frameborder: 1;    
  margin: 0 auto;
  display: block;
  width: 1750px;
  height: 1100px; 
	background-color: white;
	-ms-zoom: .55;
	-ms-transform-origin: 0 0;
	-moz-transform: scale(.55);
	-o-transform: scale(.55);
  -o-transform-origin: 0 0;
  -webkit-transform: scale(0.55);
  -webkit-transform-origin: 0 0;
}
.bar {
    border: none;
    height: 7px;
    background-color: #c4c4c4;
    color: #eee;
}
 .bar2 {
    border: none;
    height: 3px;
    background-color: #c4c4c4;
    color: #eee;
}
</style>
<p style="text-align:justify">
  At CU Boulder, my focus has been on climate risk management, particularly as it concerns drought and the cattle ranching industry in 
  the US. The course work for this program was split between more conceptual geography, statistics, and GIS programming applications. 
  Here, I'll try to select some of the more interesting results and see if I can't briefly explain them. 
</p>

<hr class="bar">

<pre>













</pre>

<h2 id="thesis-work-insurance">Thesis Work: Drought Index-Based Insurance</h2>
<p style="font-size:14px; text-align:justify">
     For my thesis and research at Earth Lab (where I work currently), I was asked to demonstrate what weather-based index insurance 
     would look 
     like with a drought index. I searched the literature and found that every mention of drought index insurance was actually 
     referring to a rainfall 
     index-based plan. So, using the structure of an existing rainfall index insurance program called "Pasture, Rangeland, and
     Forage" (PRF), I made some alterations and created an experimental plan designed to fit 11 different drought indices. I will post 
     the thesis and related articles when they are published and they will describe the process in detail, but for now here are some of
     the graphics that came out of the project.
</p>

<hr class="bar2">
<h3 id="insurance-adoption">Pasture, Rangeland, and Forage Adoption and Loss Ratios</h3>
<img align="center" src="/images/prf_adoption.png" alt="Pasture,Rangeland,Forage policies 2007 - 2017">
<p style="font-size:14px; text-align:justify">
     The PRF program started in 2007 as a pilot, and payments were based on either a rainfall or 
     NDVI-based vegetation index. The vegetation index was dropped in 2015 before the program went national, but I wasn't entirely sure 
     why. So, using Risk Mangement Agency business reports, I created these maps showing participation and yearly loss ratios for 
     both indices. It turns out that the vegetation index loss ratios vacillated wildy, going as low as 0.04 in 2010 (not 
     displayed) and as high as 2.35 in 2012 and 2013. Maybe there were other reasons they dropped it, but this alone would be
     cause enough. These were made entirely in R with ggplot.
</p>
        
<hr class="bar2">
&emsp;
<h3 id="texas-example">Experimental Drought Index Example</h3>
<img align="center" src="/images/TX_PDSISC_80.png">
<p style="font-size:14px; text-align:justify">
  This is an example of payouts from one of the experimental drought index insurance plans: the Self-Calibrating Palmer Drought Severity
  Index. This graph shows the somewhat random nature of rainfall-based payouts, a grouping pattern of payouts that arise from drought 
  indices with a longer "climate memory", and the seasonality of payouts between each. In this example, the total amount of potential 
  payouts are roughly equal. 
</p>
        
<hr class="bar2">
&emsp;
<h3 id="palmer-quirks">Odd Palmer Drought Severity Index Results</h3>
<img src="/images/palmer-quirks.png">
<p style="font-size:14px; text-align:justify">
  One of the concerns of the rainfall index is that it often pays more in the winter and fall than in the
  growing season. To see if drought indices might incentivize growing seaosn selection, I mapped the months when each would pay the 
  most according to payment calculation factor (PCF) trends since 1948. The PCF is a measure of the amount of money an index would 
  trigger in the structure of the PRF. The Palmer drought severity indices showed strange seasonality, it lines up well with the
  98th meridian and the USFS ecoregions. The data for this map was generated with numpy arrays in Python, and rendered in ggplot in R.
</p>
&emsp;

<hr class="bar2">

<h3 id="usdm-prf">Comparing the Rainfall Insurance to the US Drought Monitor</h3>

<p style="font-size:14px; text-align:justify">
  As a side project, I was asked to calculate the likelihood that the PRF insurance program would not pay when 
  the US Drought Monitor says that there's drought. To do this I developed a tool that allows the user to select a level of rainfall
  deficit that would trigger payouts in the PRF and generate a map of the conditional probability of experiencing both a chosen 
  level of drought severity according to the US Drought Monitor and not receiving a payout. This is done via Plotly's new DASH platform,
  using mapbox to overlay scatterplots of Numpy arrays on an zoomable map. It is served on an EC2 Ubuntu machine through Amazon Web 
  Services. Data was retrieved from the Climate Prediction Center of NOAA and The National Drought Mitigation Center at the University
  of Nebraska-Lincoln. More explanation can be found in the application. 
</p>

<div style:"margin: 0 auto">
<iframe class = "frame" align="center" src="https://www.earthlab-riskappone.org"></iframe>
</div>

<hr class="bar2">

<h3 id="altind-prf">Drought Index Insurance Laboratory</h3>

<p style="font-size:14px; text-align:justify">
  This is the result of the PRF with alterations for each drought index, expressed as potential outputs across the US and over time. 
  I'll let you read the in-app description for an idea of how it works. I still have some tinkering to do; I'd like to more precisely 
  scale the actuarial rates and better tailor the experimental program for each location. However, it is still useful to get an idea 
  of the general differences in the patterns of payouts between rainfall and drought index-based plans. It also has some nifty secret
  features, try pressing control when you click on the map. This was made in a similar fashion as the app above. Data was retrieved 
  from the Risk Management Agency of the USDA, the Climate Prediction Center of NOAA, and the Westwide Drought Tracker via the Desert 
  Research Institute's web-site.
  
</p>

<div style:"margin: 0 auto">
<iframe class = "frame" align="center" src="https://www.earthlab-riskapptwo.org"></iframe>
</div>
<pre>













</pre>
<hr class="bar">
<h2 id="thesis-work-market">Thesis Work: Climate Signal in Market Data</h2>
<p style="font-size:14px; text-align:justify">
    Another chapter in my thesis was an econometric analysis of drought impacts in the climate market. It used the same weather indices
    above to try and quantify the impacts of drought on cattle weights at live-cattle auctions. This was a two-way fixed effects panel
    model that used two years of seasonal climate values (averaged within a 500km radius around each auction) and average price to 
    predict cattle weightsacross a 140 site sample in the central US. This is another project that will be explained in more detail 
    when the papers are published, but some of the findings were interesting enough to glance at here. 
</p>

<hr class="bar2">
&emsp;
<h3 id="local-residuals">Market Model Local Residuals</h3>
<img align="center" src="/images/market-model-residuals.png">
<p style="font-size:14px; text-align:justify">
    The model was ran for each of the twelve indices (including the rainfall graph) and growing season effects were consistently 
    significant, it explained almost 80% of the total variance, about 40% of the variance in the demeaned model, and each model was 
    surprisingly similar. The model wasn't as strong in the northern auctions where seasonality in market weights made the predictions
    unstable despite an attempt to correct for that. If I'd had more time I would've performed a spatial lag model to try and account
    for the geographic discrepancy. This is my first fixed-effects model, though, and I am relatively pleased with the
    results. These are the residual structures from just the rainfall index model. The initial model runs were developed in the "plm" R
    package, but clustering standard errors using this program proved to be too cumbersome for me, so the the final products were 
    calculated in STATA and exported to R for graphing. 
<p style="font-size:14px; text-align:justify">

<hr class="bar2">

&emsp;
<h3 id="area-determination">Determining Market Areas</h3>
<img align="center" src="/images/area-determination.png">
<p style="font-size:14px; text-align:justify">
    I didn't know how large of an area of ranching activity an auction represented, so it was suggested be one of the professors to 
    run regressions at larger and larger radii until model fits and coefficients peaked. I wasn't sure it would work, but, indeed, 
    peaks did emerge. The areas 
    were much larger than I'd expected, and the difference in model fits were subtle, but they were very distinct. Only the 50 most 
    auctions could be used because the market areas crossed the US boundaries in the north and south. Above shows a sample of the 
    auction radii, a graph of both model fit and effect peaks, and a run of spring and summer semivariance ranges for each index to 
    check that the resulting radius distances weren't a mere effect of the index itself. Peak coefficients were only chosen if they 
    consistently rose and fell, and peaked at different distances for different times of the year. Research into cattle transportation
    networks also corroborated this scale, with market communities discovered ranging from about 400 to 650 km. 500 km was chosen as 
    compromise and a generally defendable distance. 
</p>

<hr class="bar">
<pre>













</pre>
<h2 id="earth-analytics">Class - Earth Analytics</h2>
<p style="font-size:14px; text-align:justify">
  Earth Analytics is a relatively new class that is hosted by Earth Lab at CU. It aims to train future data scientists in the use and
  communication of large earth-based data sets. This class was run in R, but it will be run in Python from now on. We had a lot of 
  remote sensing lessons, learning both the physical process of imagery collection and multispectral image analysis. 
</p>

&emsp;

<hr class="bar2">

<h3 id="k-means">Calculating Deforestation following the Political Coup in Brazil</h3>
<img align="center" src="/images/brazil-process.png">
&nbsp; 
<img align="center" src="/images/brazil-chart.png">
<p style="font-size:14px; text-align:justify">
  This was a group project based on an idea from a class-mate in the Environmental Biology Department. She wanted to see if there was a
  detectable change in deforestation rates after Michel Temer took control in 2016. Temer was known to be highly supportive of the 
  agribusiness industry of Brazil, and so we expected to see a large spike in rates. I was responsible for figuring out the statistical
  analysis on the satelitte side while the teammates did background research and calculated our validation statistics from an 
  open-source forest monitoring service call Global Forest Watch (GFW).  I took yearly Landsat 8 OLI images since 2014 at the same 
  time of year with as little 
  cloud cover as possible from a place we deemed representative of the problem. Then I made a 
  composite cloud mask and applied it to each image to filter out places with inconsistent data. I had to line all of the images 
  up exactly, there is some shifting between years, so some of the images had to be cropped for consistency. Then I extracted bands 
  6,5, and 4 because they appeared to be the most 
  contrasting combination. Following that, in sequence, I ran a k-means clustering algorithm on each image using a deforested area mask
  from the prior year. This needed to be done because crop and grazing land fill in the deforested areas in the subsequent year and this 
  throws the cateogrization scheme off. Also, this was seen as suitable for the time frame we were working in because trees don't
  grow back quite that fast. After that I calculated loss rates and we compared the results to figures from Global Forest Watch (GFW). 
  The first year
  was way off because it was uncalibrated, but the next two years almost exactly matched GFW. Our model showed an incredible spike in 
  deforestation for 2017 before GFWs numbers came out, much higher than we expected. New stories about the problem, though, note a 
  severe spike, so once I take the time to calculate the new GFW rates I'll post it up here and we can see how well this strategy 
  worked during the third year. 
</p>


